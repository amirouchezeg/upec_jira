<div class="container-fluid min-60v ">
    <div class="row">
        <div class="col-12 d-flex justify-content-center">
            <button class="btn btn-add-issue btn-outline-dark btn-lg"  (click)="onDailoIssue('add',null)">
                <i class="fa fa-plus"></i>Add Issue
            </button>
        </div>
    </div>
    <div class="row mh-100 main-row">
        <div class="col-3">
            <div class="card actions" >
                <div class="card-header card-header-in-preview">
                    <h3 class="text-uppercase  d-flex justify-content-center">À FAIRE</h3>
                </div>
                <div
                cdkDropList
                #previewList="cdkDropList"
                [cdkDropListData]="preview"
                [cdkDropListConnectedTo]="[todoList,doneList,inProgresseList]"
                (cdkDropListDropped)="drop($event)"
                class="card-body">
                    <div *ngFor="let issue of preview" class="card card-issue" cdkDrag >
                        <div class="card-header">
                            <h6 class="text-uppercase  d-flex justify-content-center">{{issue.title}}</h6>
                        </div>
                        <div class="card-body">
                            <span *ngIf="issue.users" class="badge badge-secondary">{{issue.users.email}}</span>
                            <p class="card-text">{{issue.description.substring(0,100)}} ...</p>
                            <a class="btn btn-outline-secondary btn-sm" (click)="onDetailIssue(issue)">Details <i class="fa fa-arrow-right"></i> </a> 
                            <button class=" float-right mr-btn btn btn-outline-danger btn-sm"> <i class="fa fa-trash"></i> </button>                          
                            <button (click)="onDailoIssue('edit',issue)" class=" float-right btn btn-outline-secondary btn-sm"> <i class="fa fa-edit"></i> </button>                          
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-3 mh-100 actions">
            <div class="card actions" >
                <div class="card-header card-header-todo">
                    <h3 class="text-uppercase  d-flex justify-content-center">Ouvert</h3>
                </div>
                <div
                cdkDropList
                #todoList="cdkDropList"
                [cdkDropListData]="todo"
                [cdkDropListConnectedTo]="[previewList,doneList,inProgresseList]"
                (cdkDropListDropped)="drop($event)" 
                class="card-body">
                    <div *ngFor="let issue of todo" class="card card-issue" cdkDrag >
                        <div class="card-header">
                            <h6 class="text-uppercase  d-flex justify-content-center">{{issue.title}}</h6>
                        </div>
                        <div class="card-body">
                            <span *ngIf="issue.users" class="badge badge-secondary">{{issue.users.email}}</span>
                            <p class="card-text">{{issue.description.substring(0,100)}} ...</p>
                            <a class="btn btn-outline-secondary btn-sm" (click)="onDetailIssue(issue)">Details <i class="fa fa-arrow-right"></i> </a> 
                            <button class=" float-right mr-btn btn btn-outline-danger btn-sm"> <i class="fa fa-trash"></i> </button>                          
                            <button (click)="onDailoIssue('edit',issue)" class=" float-right btn btn-outline-secondary btn-sm"> <i class="fa fa-edit"></i> </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-3 mh-100 actions">
            <div class="card actions" >
                <div class="card-header card-header-in-progress">
                    <h3 class="text-uppercase  d-flex justify-content-center">en cours</h3>
                </div>
                <div
                cdkDropList
                #inProgresseList="cdkDropList"
                [cdkDropListData]="in_progress"
                [cdkDropListConnectedTo]="[previewList,todoList,doneList]"
                (cdkDropListDropped)="drop($event)"
                class="card-body">
                    <div *ngFor="let issue of in_progress" class="card card-issue" cdkDrag >
                        <div class="card-header">
                            <h6 class="text-uppercase  d-flex justify-content-center">{{issue.title}}</h6>
                        </div>
                        <div class="card-body">
                            <span *ngIf="issue.users" class="badge badge-secondary">{{issue.users.email}}</span>
                            <p class="card-text">{{issue.description.substring(0,100)}} ...</p>
                            <a class="btn btn-outline-secondary btn-sm" (click)="onDetailIssue(issue)">Details <i class="fa fa-arrow-right"></i> </a> 
                            <button class=" float-right mr-btn btn btn-outline-danger btn-sm"> <i class="fa fa-trash"></i> </button>                          
                            <button (click)="onDailoIssue('edit',issue)" class=" float-right btn btn-outline-secondary btn-sm"> <i class="fa fa-edit"></i> </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-3 mh-100 actions">
            <div class="card actions" >
                <div class="card-header card-header-done">
                    <h3 class="text-uppercase  d-flex justify-content-center">terminé</h3>
                </div>
                <div
                cdkDropList
                #doneList="cdkDropList"
                [cdkDropListData]="done"
                [cdkDropListConnectedTo]="[previewList,todoList,inProgresseList]"
                (cdkDropListDropped)="drop($event)"
                class="card-body">
                    <div *ngFor="let issue of done" class="card card-issue" cdkDrag>
                        <div class="card-header">
                            <h6 class="text-uppercase  d-flex justify-content-center">{{issue.title}}</h6>
                        </div>
                        <div class="card-body">
                            <span *ngIf="issue.users" class="badge badge-secondary">{{issue.users.email}}</span>                            
                            <p class="card-text">{{issue.description.substring(0,100)}} ...</p>
                            <a class="btn btn-outline-secondary btn-sm" (click)="onDetailIssue(issue)">Details <i class="fa fa-arrow-right"></i> </a> 
                            <button class=" float-right mr-btn btn btn-outline-danger btn-sm"> <i class="fa fa-trash"></i> </button>                          
                            <button (click)="onDailoIssue('edit',issue)" class=" float-right btn btn-outline-secondary btn-sm"> <i class="fa fa-edit"></i> </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
